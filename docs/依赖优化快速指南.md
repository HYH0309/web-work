# 🎯 Vue项目依赖优化 - 快速执行指南

## 🚀 一键优化脚本

### Windows PowerShell

```powershell
# 进入项目目录
cd "e:\IDEPLAYTEST\Vue\web-work"

# 执行优化脚本
powershell -ExecutionPolicy Bypass -File "scripts\optimize-deps.ps1"
```

### 手动执行（推荐）

#### 第一步：移除完全未使用的依赖

```bash
npm uninstall anchor css-tree i @mdit/plugin-mathjax @mdit/plugin-tab markdown-it-diagram markdown-it-expandable markdown-it-katex markdown-it-mathjax3 markdown-it-prism markdown-it-task-lists markdown-it-toc-done-right tsparticles-engine
```

#### 第二步：移除重复功能的依赖

```bash
npm uninstall marked marked-alert marked-base-url marked-code-format marked-code-preview marked-extended-tables marked-highlight @iconify/vue lucide-vue-next highlight prismjs gsap monaco-editor monaco-editor-vue3 vite-plugin-monaco-editor @tsparticles/slim @tsparticles/vue3
```

#### 第三步：移除未使用的开发依赖

```bash
npm uninstall @iconify/json @types/codemirror @types/prismjs @unocss/preset-icons @unocss/preset-wind4 @unocss/transformer-directives @vue/test-utils unplugin-starter
```

## 📋 验证清单

执行每个步骤后，请验证：

```bash
# 构建验证
npm run build

# 开发服务器验证  
npm run dev

# 单元测试验证
npm run test:unit

# 类型检查验证
npm run type-check
```

## ⚠️ 可能需要的代码调整

### 1. 移除Monaco Editor相关代码

如果项目中有使用Monaco Editor的代码，需要替换为CodeMirror：

```typescript
// 移除这些导入
import MonacoEditor from 'monaco-editor-vue3'
import * as monaco from 'monaco-editor'

// 保留CodeMirror导入
import Codemirror from 'codemirror-editor-vue3'
```

### 2. 移除图标库导入

```typescript
// 移除这些导入
import { Icon } from '@iconify/vue'
import { Settings } from 'lucide-vue-next'

// 使用@heroicons/vue
import { CogIcon } from '@heroicons/vue/24/outline'
```

### 3. 移除GSAP动画

```typescript
// 移除GSAP导入
import gsap from 'gsap'

// 使用motion-v
import { motion } from 'motion-v'
```

## 📊 优化效果预期

- **包数量减少**：从83个→约45个（47%减少）
- **构建体积减少**：约30-40%
- **安装时间减少**：约50%
- **构建速度提升**：约25%

## 🔍 后续维护

添加到package.json scripts：

```json
{
  "scripts": {
    "deps:check": "npx depcheck",
    "deps:analyze": "npx webpack-bundle-analyzer dist/stats.json",
    "deps:outdated": "npm outdated"
  }
}
```

定期运行检查：

```bash
# 每月检查未使用依赖
npm run deps:check

# 检查过时依赖
npm run deps:outdated
```
